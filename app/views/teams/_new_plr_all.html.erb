<%= form_with scope: :player_team, url: player_teams_path, html: {:id => "demo-form2", "data-parsley-validate" => "", :class => "form-horizontal form-label-left", :novalidate => ""}, local: true do |f| %>
  <%= f.hidden_field :team_id, value: team.id %>
  <div class="item form-group">
    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="tourn">Игрок
    </label>
    <div class="col-md-6 col-sm-6 col-xs-12">
      <%= f.collection_select(:player_id, Player.where.not(id: team.players), :id, :name, {}, {:class => "form-control", :id => "exmpl", :required => ""}) %>
    </div>
  </div>

  <div class="item form-group">
    <label class="control-label col-md-3 col-sm-3 col-xs-12" for="tourn">
    </label>
    <div class="col-md-6 col-sm-6 col-xs-12">
      <%= f.submit "Добавить", :class => "btn btn-success" %>
    </div>
  </div>


<% end %>
<script>
    window.onload = function () {
        $('#exmpl').select2({
            placeholder: "Выберите игрока",
            language: 'ru',
            width: '100%'
        });
    };
</script>