<%= form_with(model: [:admin, @user], html: {:id => "demo-form2", "data-parsley-validate" => "", :class => "form-horizontal form-label-left", :novalidate => ""}, local: true) do |form| %>

  <div class="form-group">
    <label class="control-label col-md-3 col-sm-3 col-xs-12">
    </label>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <h2> Редактирование профиля <%= @user.email %> </h2>
    </div>
  </div>

  <%= render partial: "user_info", locals: {form: form} %>

  <div class="col-md-4 col-sm-4 col-xs-12 col-md-offset-3">
    <%= form.submit "Обновить", :class => "btn btn-success", :id => "submit", :disabled => "true" %>
    <a onclick="javascript:history.back(); return false;" class="btn btn-success"> Отмена
    </a>
  </div>

<% end %>

<script>
    function checkParams() {
        var email = $('#email').val();
        var pass = $('#pass').val();
        console.log(pass)
        var pass_conf = $('#pass_conf').val();
        if (email.length != 0 && pass.length >= 6 && pass_conf.length >= 6) {
            $('#submit').removeAttr('disabled');
        } else {
            $('#submit').attr('disabled', 'disabled');
        }
    }
</script>